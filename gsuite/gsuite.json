{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Parameters": {
    "DomainName": {
      "Type": "String",
      "Default": "azcard.io"
    },
    "TTL": {
      "Type": "String",
      "Default": "3600"
    },
    "MxRecords": {
      "Type": "CommaDelimitedList",
      "Default": "5 alt1.aspmx.l.google.com,5 alt2.aspmx.l.google.com,1 aspmx.l.google.com,10 aspmx2.googlemail.com,10 aspmx3.googlemail.com"
    },
    "TxtRecords": {
      "Type": "CommaDelimitedList",
      "Default": "\"v=spf1 include:_spf.google.com ~all\",\"google-site-verification=tqvZxD_s-3IRsXbbHSf9yDATOlxTdXiCr9yE9dWZum4\""
    }
  },
  "Resources": {
    "GSuiteRecords": {
      "Type": "AWS::Route53::RecordSetGroup",
      "Properties": {
        "HostedZoneName": "azcard.io.",
        "Comment": "Required for GSuite email forwarding",
        "RecordSets": [
          {
            "Name": {
              "Ref": "DomainName"
            },
            "Type": "MX",
            "TTL": "3600",
            "ResourceRecords": {
              "Ref": "MxRecords"
            }
          },
          {
            "Name": {
              "Ref": "DomainName"
            },
            "Type": "TXT",
            "TTL": {
              "Ref": "TTL"
            },
            "ResourceRecords": {
              "Ref": "TxtRecords"
            }
          }
        ]
      }
    }
  }
}